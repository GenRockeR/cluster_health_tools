<form>
<label>splunk_support_forwardert_utilisazion</label>
<search id="annotation">
<query>index=_internal host=$tok_host$ source=*metrics* TERM(blocked=true)
| eval annotation_label= "blocked", annotation_category=ingest_pipe</query>
<earliest>$tok_time.earliest$</earliest>
<latest>$tok_time.latest$</latest>
</search>
<fieldset submitButton="false">
<input type="time" token="tok_time">
<label></label>
<default>
<earliest>-60m@m</earliest>
<latest>now</latest>
</default>
</input>
<input type="text" token="tok_host">
<label>Hf Host</label>
</input>
</fieldset>
<row>
<panel>
<chart>
<search type="annotation" base="annotation"></search>
<search>
<query>index=_internal host=$tok_host$ METRICS TERM(group=thruput) TERM(name=thruput)
| eval host_pipe=host."-".ingest_pipe
| timechart sum(kb) by host_pipe limit=0</query>
<earliest>$tok_time.earliest$</earliest>
<latest>$tok_time.latest$</latest>
<sampleRatio>1</sampleRatio>
</search>
<option name="charting.axisLabelsX.majorLabelStyle.overflowMode">ellipsisNone</option>
<option name="charting.axisLabelsX.majorLabelStyle.rotation">0</option>
<option name="charting.axisTitleX.visibility">visible</option>
<option name="charting.axisTitleY.visibility">visible</option>
<option name="charting.axisTitleY2.visibility">visible</option>
<option name="charting.axisX.abbreviation">none</option>
<option name="charting.axisX.scale">linear</option>
<option name="charting.axisY.abbreviation">none</option>
<option name="charting.axisY.scale">linear</option>
<option name="charting.axisY2.abbreviation">none</option>
<option name="charting.axisY2.enabled">0</option>
<option name="charting.axisY2.scale">inherit</option>
<option name="charting.chart">line</option>
<option name="charting.chart.bubbleMaximumSize">50</option>
<option name="charting.chart.bubbleMinimumSize">10</option>
<option name="charting.chart.bubbleSizeBy">area</option>
<option name="charting.chart.nullValueMode">gaps</option>
<option name="charting.chart.showDataLabels">none</option>
<option name="charting.chart.sliceCollapsingThreshold">0.01</option>
<option name="charting.chart.stackMode">default</option>
<option name="charting.chart.style">shiny</option>
<option name="charting.drilldown">none</option>
<option name="charting.layout.splitSeries">0</option>
<option name="charting.layout.splitSeries.allowIndependentYRanges">0</option>
<option name="charting.legend.labelStyle.overflowMode">ellipsisMiddle</option>
<option name="charting.legend.mode">standard</option>
<option name="charting.legend.placement">right</option>
<option name="charting.lineWidth">2</option>
<option name="refresh.display">progressbar</option>
<option name="trellis.enabled">0</option>
<option name="trellis.scales.shared">1</option>
<option name="trellis.size">medium</option>
</chart>
</panel>
</row>
<row>
<panel>
<chart>
<search type="annotation" base="annotation"></search>
<search>
<query>index=_internal host=$tok_host$ METRICS TERM(group=thruput) TERM(name=thruput)
| eval host_pipe=host."-".ingest_pipe
| timechart avg(load_average)</query>
<earliest>$tok_time.earliest$</earliest>
<latest>$tok_time.latest$</latest>
<sampleRatio>1</sampleRatio>
</search>
<option name="charting.axisLabelsX.majorLabelStyle.overflowMode">ellipsisNone</option>
<option name="charting.axisLabelsX.majorLabelStyle.rotation">0</option>
<option name="charting.axisTitleX.visibility">visible</option>
<option name="charting.axisTitleY.visibility">visible</option>
<option name="charting.axisTitleY2.visibility">visible</option>
<option name="charting.axisX.abbreviation">none</option>
<option name="charting.axisX.scale">linear</option>
<option name="charting.axisY.abbreviation">none</option>
<option name="charting.axisY.scale">linear</option>
<option name="charting.axisY2.abbreviation">none</option>
<option name="charting.axisY2.enabled">0</option>
<option name="charting.axisY2.scale">inherit</option>
<option name="charting.chart">line</option>
<option name="charting.chart.bubbleMaximumSize">50</option>
<option name="charting.chart.bubbleMinimumSize">10</option>
<option name="charting.chart.bubbleSizeBy">area</option>
<option name="charting.chart.nullValueMode">gaps</option>
<option name="charting.chart.showDataLabels">none</option>
<option name="charting.chart.sliceCollapsingThreshold">0.01</option>
<option name="charting.chart.stackMode">default</option>
<option name="charting.chart.style">shiny</option>
<option name="charting.drilldown">none</option>
<option name="charting.layout.splitSeries">0</option>
<option name="charting.layout.splitSeries.allowIndependentYRanges">0</option>
<option name="charting.legend.labelStyle.overflowMode">ellipsisMiddle</option>
<option name="charting.legend.mode">standard</option>
<option name="charting.legend.placement">right</option>
<option name="charting.lineWidth">2</option>
<option name="refresh.display">progressbar</option>
<option name="trellis.enabled">0</option>
<option name="trellis.scales.shared">1</option>
<option name="trellis.size">medium</option>
</chart>
</panel>
</row>
<row>
<panel>
<chart>
<search type="annotation" base="annotation"></search>
<search>
<query>index=_internal host=$tok_host$ metrics TERM(group=tcpout_connections)
| eval host_pipe=host."-".ingest_pipe
| timechart avg(tcp_avg_thruput) by host_pipe limit=0</query>
<earliest>$tok_time.earliest$</earliest>
<latest>$tok_time.latest$</latest>
</search>
<option name="charting.chart">line</option>
<option name="charting.drilldown">none</option>
<option name="refresh.display">progressbar</option>
</chart>
</panel>
</row>
<row>
<panel>
<table>
<search type="annotation" base="annotation"></search>
<search>
<query>index=_internal sourcetype=splunkd TERM(eventType=connect_done) OR TERM(eventType=connect_close) host=$tok_host$
| transaction
startswith=eventType=connect_done
endswith=eventType=connect_close
sourceHost sourcePort host
| stats stdev(duration) median(duration) avg(duration) max(duration)
by sourceHost
| sort - max(duration)
| join sourceHost [ search index=_internal sourcetype=splunkd TERM(hostname=*) TERM(group=tcpin_connections) | stats count by sourceHost hostname ]</query>
<earliest>$tok_time.earliest$</earliest>
<latest>$tok_time.latest$</latest>
</search>
<option name="count">10</option>
<option name="drilldown">cell</option>
<option name="refresh.display">progressbar</option>
<drilldown>
<link target="_blank">/splunk_support_forwarder_utilisatzion?form.tok_time.earliest=$tok_time.earliest$&amp;form.tok_time.latest=$tok_time.latest$&amp;form.tok_host=$row.hostname$</link>
</drilldown>
</table>
</panel>
</row>
<row>
<panel>
<chart>
<search type="annotation" base="annotation"></search>
<search>
<query>index=_internal host=$tok_host$ connect_done statusee=TcpOutputProcessor
| timechart dc(destHost), count(destHost)</query>
<earliest>$tok_time.earliest$</earliest>
<latest>$tok_time.latest$</latest>
</search>
<option name="charting.chart">line</option>
<option name="charting.drilldown">none</option>
<option name="refresh.display">progressbar</option>
</chart>
</panel>
</row>
<row>
<panel>
<event>
<search>
<query>index=_internal host=$tok_host$ group=map name=pipelineinputchannel</query>
<earliest>$tok_time.earliest$</earliest>
<latest>$tok_time.latest$</latest>
</search>
<option name="list.drilldown">none</option>
<option name="refresh.display">progressbar</option>
</event>
</panel>
</row>
<row>
<panel>
<chart>
<search type="annotation" base="annotation"></search>
<search>
<query>index=_internal host=$tok_host$ METRICS TERM(group=per_sourcetype_thruput) sourcetype=splunkd series=* | timechart limit=50 per_second(kb) by series</query>
<earliest>$tok_time.earliest$</earliest>
<latest>$tok_time.latest$</latest>
</search>
<option name="charting.chart">line</option>
<option name="charting.drilldown">none</option>
<option name="refresh.display">progressbar</option>
</chart>
</panel>
</row>
<row>
<panel>
<chart>
<search>
<query>index=_internal host=$tok_host$ METRICS TERM(group=per_host_thruput) sourcetype=splunkd series=* | timechart limit=50 per_second(kb) by series</query>
<earliest>$tok_time.earliest$</earliest>
<latest>$tok_time.latest$</latest>
</search>
<option name="charting.chart">line</option>
<option name="charting.drilldown">none</option>
<option name="refresh.display">progressbar</option>
</chart>
</panel>
</row>
<row>
<panel>
<chart>
<search type="annotation" base="annotation"></search>
<search>
<query>index=_internal host=$tok_host$ METRICS TERM(group=per_source_thruput) sourcetype=splunkd series=* | timechart limit=50 per_second(kb) by series</query>
<earliest>$tok_time.earliest$</earliest>
<latest>$tok_time.latest$</latest>
</search>
<option name="charting.chart">line</option>
<option name="charting.drilldown">none</option>
<option name="refresh.display">progressbar</option>
</chart>
</panel>
</row>
<row>
<panel>
<chart>
<search>
<query>index=_internal host=$tok_host$ METRICS TERM(group=per_index_thruput) sourcetype=splunkd series=* | timechart limit=50 per_second(kb) by series</query>
<earliest>$tok_time.earliest$</earliest>
<latest>$tok_time.latest$</latest>
</search>
<option name="charting.chart">line</option>
<option name="charting.drilldown">none</option>
<option name="refresh.display">progressbar</option>
</chart>
</panel>
</row>
<row>
<panel>
<chart>
<search>
<query>index=_internal host=$tok_host$ METRICS cpu_seconds | timechart limit=0 max(cpu_seconds) by ingest_pipe</query>
<earliest>-24h@h</earliest>
<latest>now</latest>
</search>
<option name="charting.chart">line</option>
<option name="charting.drilldown">none</option>
</chart>
</panel>
</row>
</form>
